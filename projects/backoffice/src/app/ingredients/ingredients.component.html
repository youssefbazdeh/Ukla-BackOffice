<div class="layout-wrapper layout-content-navbar">
  <div class="layout-container">
    <!-- Menu -->

    <aside id="layout-menu" class="layout-menu menu-vertical menu bg-menu-theme">
      <app-menu></app-menu>
    </aside>    <!-- / Menu -->

    <!-- Layout container -->
    <div class="layout-page">
      <!-- Navbar -->
      <nav
        class="layout-navbar container-xxl navbar navbar-expand-xl navbar-detached align-items-center bg-navbar-theme"
        id="layout-navbar">
        <div class="layout-menu-toggle navbar-nav align-items-xl-center me-3 me-xl-0 d-xl-none">
          <a class="nav-item nav-link px-0 me-xl-4" href="javascript:void(0)">
            <i class="bx bx-menu bx-sm"></i>
          </a>
        </div>

        <div class="navbar-nav-right d-flex align-items-center" id="navbar-collapse">
          <!-- Search -->
          <div class="navbar-nav align-items-center">
            <div class="nav-item d-flex align-items-center">
              <i class="bx bx-search fs-4 lh-0"></i>
              <input type="text" class="form-control border-0 shadow-none" placeholder="Search..."
                     aria-label="Search..." [(ngModel)]="searchTerm" (ngModelChange)="searchTerm$.next(searchTerm)" />

            </div>
          </div>
          <!-- /Search -->

          <ul class="navbar-nav flex-row align-items-center ms-auto">
            <!-- Place this tag where you want the button to render. -->

            <!-- User -->
            <button class="dropdown-item" (click)="onLogoutClick()">
              <i class="bx bx-power-off me-2"></i>
              <span class="align-middle">Log Out</span>
            </button>              <!--/ User -->
          </ul>
        </div>
      </nav>

      <!-- / Navbar -->

      <!-- Content wrapper -->
      <div class="content-wrapper">
        <!-- Content -->

        <div class="container-xxl flex-grow-1 container-p-y">
          <h4 class="fw-bold py-3 mb-4"><span class="text-muted fw-light">Ingredients/</span> List </h4>

          <!-- Basic Layout -->


          <div class="card mb-4">
            <div class="card-header d-flex align-items-center justify-content-between">
              <h5 class="mb-0">Ingredients :</h5>
            </div>
            <div class="card-body">


              <div class="ingredientE-container">
                
                <!-- Conditional rendering based on the length of filteredIng -->
<ng-container *ngIf="isEmpty; else ingList">
  <h4>Ingredient Not Found!</h4>
</ng-container>
 
 <!-- Template for when filteredIng is not empty -->
 <ng-template #ingList>
  <ng-container *ngIf=" filteredIng.length === ingredientCount || filteredIng.length === 0 ; else condition3">
    
    <div class="ingredientE-row" *ngFor="let ingredient of filteredIngredients; let k = index;">
                    

      <div class="ingredientE-item">
        <div class="dropdown" style="position: absolute; top: 5px; right: 1px;">
          <button type="button" class="btn p-0 dropdown-toggle hide-arrow" data-bs-toggle="dropdown">
            <i class="bx bx-dots-vertical-rounded"></i>
          </button>
          <div class="dropdown-menu">
  
            <a class="dropdown-item" href="EditIngredient/{{ingredient.id}}"
            ><i class="bx bx-edit-alt me-1"></i> Edit</a
            >
            <button class="dropdown-item" (click)="delete(ingredient.id)"
            ><i class="bx bx-trash me-1"></i> Delete
            </button
            >
          </div>
        </div>
        
        <img  *ngIf="ingredient.image" height="30" width="30"
             [src]="imagesToShow[ingredient.image.id]">
        <img  *ngIf="!ingredient.image" height="30" width="30"
             src="/assets/img/elements/noimage.jpg">
  
        <p class="ingredientE-name">{{ ingredient.name }}</p>
      </div>
  
    </div>
  </ng-container>
 <ng-template #condition3>
  <div class="ingredientE-row" *ngFor="let ingredient of filteredIng; let k = index;">
     <div class="ingredientE-item">
       <div class="dropdown" style="position: absolute; top: 5px; right: 1px;">
         <button type="button" class="btn p-0 dropdown-toggle hide-arrow" data-bs-toggle="dropdown">
           <i class="bx bx-dots-vertical-rounded"></i>
         </button>
         <div class="dropdown-menu">
           <a class="dropdown-item" href="EditIngredient/{{ingredient.id}}">
             <i class="bx bx-edit-alt me-1"></i> Edit
           </a>
           <button class="dropdown-item" (click)="delete(ingredient.id)">
             <i class="bx bx-trash me-1"></i> Delete
           </button>
         </div>
       </div>
 
       <img *ngIf="ingredient.image" height="30" width="30" [src]="imagesToShow[ingredient.image.id]">
       <img *ngIf="!ingredient.image" height="30" width="30" src="/assets/img/elements/noimage.jpg">
 
       <p class="ingredientE-name">{{ ingredient.name }}</p>
     </div>
  </div>
</ng-template>
 </ng-template>
 
              </div>
              <nav>
                <ul class="pagination">
                  <li class="page-item" [ngClass]="{ disabled: currentPage === 1 }">
                    <a class="page-link" (click)="changePage(currentPage - 1)" aria-label="Previous">
                      <span aria-hidden="true">&laquo;</span>
                    </a>
                  </li>
                  <li class="page-item" *ngFor="let page of pages" [ngClass]="{ active: page === currentPage }">
                    <a class="page-link" (click)="changePage(page)">{{ page }}</a>
                  </li>
                  <li class="page-item" [ngClass]="{ disabled: currentPage === totalPages }">
                    <a class="page-link" (click)="changePage(currentPage + 1)" aria-label="Next">
                      <span aria-hidden="true">&raquo;</span>
                    </a>
                  </li>
                </ul>
              </nav>
            </div>
          </div>
        </div>

      </div>


    </div>
  </div>


</div>
<div class="buy-now">
  <a
    href="/AddIngredient"
    class="btn btn-primary btn-buy-now"
  >Add Ingredient</a
  >
</div>




